# 基于SpringBoot创建RESTful风格接口

**1 关于REST和RESTful架构的理解**

--1.1 REST

- REST即Representaional State Transfer的缩写，意为（资源）表现层的状态转换

- 资源：指的是网络中一个实体，比如一张图片、一段文本，每一种资源都对应着一个URL

- 表现层：资源的表现形式，一张图片可以是JPG或者PNG格式，一段文本可以是TXT、JSON等其他格式（HTTP请求的头信息中用Accept和Content-Type字段指定，这两个字段才是对"表现层"的描述）

- 状态转换：客户端通过一些手段使得服务器端的资源发生变化，变化就是基于资源表现层的转换，客户端用到的手段就是http协议，对应四种操作，get(获取资源)、post(创建/更新资源)、put(更新资源)、delete(删除资源) 

--1.2 RESTful

- 一个架构符合REST原则，就称之为RESTful架构

- 简单理解RESTful架构就是：每一个URL代表一个资源，客户端和服务器之间传递的是URL资源的某种表现形式，客户端通过http协议的get、post、put、delete等方法操作服务器端的资源，实现其表现形式的变化

**2 Swagger的使用**

--2.1 什么是Swagger

- 基于OpenAPI规范构建的开源工具（OpenAPI 规范（OAS）定义了一个标准的、语言无关的 RESTful API 接口规范，它可以同时允许开发人员和操作系统查看并理解某个服务的功能，而无需访问源代码，文档或网络流量检查（既方便人类学习和阅读，也方便机器阅读））

- 可以构建、记录、使用Rest API

--2.2 为什么使用Swagger

- 前后端分离的开发模式下，维持一份及时更新且完整的REST API文档能够提高开发效率

- 只需要少量注解，Swagger就可以根据代码生成API文档，且代码变化，文档也会随之更新

- Swagger UI 可以呈现出一份可交互的API文档，可以在文档页面直接调用API

--2.3 如何使用Swagger

- 2.3.1 SpringBoot项目中的Swagger依赖和配置

- 项目maven添加Swagger依赖

~~~
<dependency>
    <groupId>io.springfox</groupId>
    <artifactId>springfox-swagger2</artifactId>
    <version>2.7.0</version>
</dependency>
~~~

- 项目maven添加Swagger UI依赖

~~~
<dependency>
    <groupId>io.springfox</groupId>
    <artifactId>springfox-swagger-ui</artifactId>
    <version>2.7.0</version>
</dependency>
~~~

- 项目中的Swagger Java配置

~~~
/*
@Configuration 是告诉 Spring Boot 需要加载这个配置类
@EnableSwagger2 是启用 Swagger2
@Bean注解用于告诉方法，产生一个Bean对象，然后这个Bean对象交给Spring管理
*/
@Configuration
@EnableSwagger2
public class SwaggerConfig{

    @Bean
    public Docket createRestApi() {
        return new Docket(DocumentationType.SWAGGER_2)
                .apiInfo(apiInfo())
                .select()
                .apis(RequestHandlerSelectors.basePackage(""))
                .paths(PathSelectors.any())
                .build();
    }

    //http://localhost:8080/swagger-ui.html
    private ApiInfo apiInfo() {
        return new ApiInfoBuilder()
                .title("Northbound")
                .description("Rest Api Documents")
                .termsOfServiceUrl("")
                .contact("IIE_NA")
                .version("1.0")
                .build();
    }

}
~~~

--2.3.2 Swagger文档配置注解

- Controller 相关注解

~~~
@Api 主要属性
注解属性	  类型	      描述
tags	     String[]	控制器标签。
description	 String	    控制器描述（该字段被申明为过期）
~~~

- 接口相关注解

~~~
@ApiOperation 主要属性
注解属性	  类型	      描述
value	     String	    接口说明。
notes	     String	    接口发布说明。
tags	     Stirng[]	标签。
response	 Class<?>	接口返回类型。
httpMethod	 String	    接口请求方式。
~~~


**参考**

- [理解RESTful架构](http://www.ruanyifeng.com/blog/2011/09/restful.html)
- [RESTful API 设计指南](http://www.ruanyifeng.com/blog/2014/05/restful_api.html)
- [在 SpringBoot 项目中使用 Swagger 文档](https://www.ibm.com/developerworks/cn/java/j-using-swagger-in-a-spring-boot-project/index.html)
- [利用 Spring Boot 设计风格良好的Restful API及错误响应](https://www.jianshu.com/p/d6424d98b02e)
- [基于springboot创建RESTful风格接口](https://www.jianshu.com/p/733d788ea94d)
- [@RequestMapping 用法详解之地址映射](https://www.cnblogs.com/qq78292959/p/3760560.html)
- [@RequestBody, @ResponseBody 注解详解](https://www.cnblogs.com/qq78292959/p/3760651.html)
- [@RequestParam @RequestBody @PathVariable 等参数绑定注解详解](https://www.cnblogs.com/qq78292959/p/3760702.html)
- [SpringMVC——消息转换器HttpMessageConverter](https://blog.csdn.net/cq1982/article/details/44101293)
- [SpringBoot开发详解（五）--Controller接收参数以及参数校验](https://blog.csdn.net/qq_31001665/article/details/71075743)
- [SpringBoot构建RESTful service完成Get和Post](https://www.cnblogs.com/kongxianghai/p/7366535.html)
